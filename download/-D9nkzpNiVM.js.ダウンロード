if (self.CavalryLogger) { CavalryLogger.start_js(["0YOAtrX"]); }

__d("PopoverButton.react",["cx","ix","AbstractPopoverButton.react","Button.react","Image.react","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=j.jsx(b("Image.react"),{src:h("101373")});a={button:j.jsx(b("Button.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_4-s1")})),chevron:a,defaultMaxWidth:200,chevronWidth:14};return j.jsx(b("AbstractPopoverButton.react"),{config:a,haschevron:this.props.haschevron,image:this.props.image,label:this.props.label,labelIsHidden:this.props.labelIsHidden,maxwidth:this.props.maxwidth})};return c}(j.Component);e.exports=a;a.propTypes={haschevron:b("prop-types").bool,label:b("prop-types").node,labelIsHidden:b("prop-types").bool,maxwidth:b("prop-types").number}}),null);
__d("Selector.react",["AbstractSelector.react","PopoverButton.react","ReactMenu","react"],(function(a,b,c,d,e,f){var g,h=g||b("react"),i=b("ReactMenu").SelectableMenu;a=b("ReactMenu").SelectableItem;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a={button:h.jsx(b("PopoverButton.react"),{rel:"toggle",suppressed:this.props.suppressed}),menu:h.jsx(i,{})};return h.jsx(b("AbstractSelector.react"),babelHelpers["extends"]({},this.props,{overlappingborder:!0,config:a,children:this.props.children}))};return c}(h.Component);e.exports=c;c.Option=a}),null);
__d("XVideoPlaybackExperienceReportController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/playback_report/",{video_id:{type:"FBID",required:!0},issue_type:{type:"String",required:!0},is_live:{type:"Int"},playback_timestamp:{type:"Int"}})}),null);
__d("VideoSettingsMenu.react",["cx","fbt","ix","AsyncRequest","BUISwitch.react","ClickableAreaButton.react","CurrentEnvironment","Image.react","Layout.react","Link.react","MessengerEnvironment","Selector.react","URI","VideoPlayerShakaPerformanceLogger","XUIButton.react","XVideoPlaybackExperienceReportController","isFacebookURI","prop-types","react","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){var j,k,l=j||b("react"),m=b("Layout.react").Column,n=b("Layout.react").FillColumn,o=b("Selector.react").Option,p=/(instagram)/g;function q(a){return{currentMenuContext:"main",currentFeedbackSelected:null,feedbackSubmitted:!1}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state=q(c.props),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.createMenuItem=function(a,b,c,d,e,f){f===void 0&&(f=!1);var g=function(){};b&&(g=function(a){d(),a.preventDefault()});var h="_2iw4"+(b?"":" _4t7o"),i;if(e==="checkBox"){var j=null;b&&c&&(j=l.jsx("div",{className:"_2iw1"}));i=l.jsx("div",{className:"_2iw3",children:j})}else if(e==="radioButton"){j=null;b&&c&&(j=l.jsx("div",{className:"_4t7r"}));i=l.jsx("div",{className:"_4t7u",children:j})}j=a;f&&(j=l.jsxs("div",{children:[a.toString().slice(0,-1),l.jsx("div",{className:"_4t7w"})]}));return l.jsxs("a",{href:"#",className:h,onClick:g,tabIndex:this.props.tabIndex,"aria-checked":c?"true":"false",role:e==="radioButton"?"radio":"checkbox","aria-disabled":!b,children:[i,l.jsx("div",{className:"_2iw5"+(c?"":" _4t8e"),children:j})]},a)};d.$1=function(){var a=this.props,c=a.hasCaptions,d=a.areCaptionsActive;a=a.areCaptionsAutogenerated;if(!c)return null;c=h._("\u30ad\u30e3\u30d7\u30b7\u30e7\u30f3");var e="_1x4f";a&&(c=h._("\u81ea\u52d5\u751f\u6210\u30ad\u30e3\u30d7\u30b7\u30e7\u30f3"),e="_1x4f _6m2q");return l.jsxs(b("Layout.react"),{"aria-checked":d,className:"_2iw4 _1x4e",children:[l.jsx(n,{children:c}),l.jsx(m,{children:l.jsx("div",{className:e,children:l.jsx(b("BUISwitch.react"),{animate:!0,showLabel:!0,value:d,onToggle:this.props.onToggleCaptions,tabIndex:this.props.tabIndex})})})]})};d.showQualitySelector=function(){return this.props.showQualitySelector===!0&&this.props.streamingFormat==="dash"&&this.props.availableQualities!=null&&this.props.availableQualities.length>=this.props.qualitySelectorMinStreams&&this.props.availableQualities.every(function(a){return!!a})};d.$2=function(){var a=this;return l.jsx(b("Link.react"),{"aria-label":"Back",role:"button",onClick:function(){return a.setState({currentMenuContext:"main",currentFeedbackSelected:null,feedbackSubmitted:!1})},children:l.jsx(b("Image.react"),{className:"_4t8f",src:i("480579")})})};d.$3=function(){var a=h._("\u305d\u306e\u4ed6\u306e\u52d5\u753b\u8a2d\u5b9a"),c=new(k||(k=b("URI")))("/settings/?tab=videos"),d=c.getQualifiedURI().getSubdomain();(d==="business"||d==="partners"||d==="developers"||d==="ai"||d==="sparkar"||d==="portal")&&c.setSubdomain("www");b("isFacebookURI")(c)||c.setDomain(c.getDomain().replace(p,"facebook"));b("MessengerEnvironment").messengerui&&c.setDomain(b("CurrentEnvironment").workplacedotcom?"workplace.com":"facebook.com").setSubdomain(d).setProtocol("https");return l.jsx("a",{href:c,target:"_blank",className:"_4t9q _2iw4",tabIndex:this.props.tabIndex,children:a})};d.$4=function(){var a=this;return l.jsxs(b("Selector.react"),{name:"feedback_selector",onChange:function(b){a.setState({currentFeedbackSelected:b.value?b.value:null})},defaultValue:0,children:[l.jsx(o,{value:0,children:h._("\u3053\u306e\u52d5\u753b\u3092\u5831\u544a\u3059\u308b\u7406\u7531")}),l.jsx(o,{value:"audio_video_sync",children:h._("\u52d5\u753b\u3068\u97f3\u58f0\u304c\u305a\u308c\u3066\u3044\u308b")}),l.jsx(o,{value:"video_only_stutter",children:h._("\u52d5\u753b\u304c\u9014\u5207\u308c\u308b")}),l.jsx(o,{value:"audio_video_stutter",children:h._("\u52d5\u753b\u3068\u97f3\u58f0\u304c\u9014\u5207\u308c\u308b")}),l.jsx(o,{value:"black_screen",children:h._("\u753b\u9762\u304c\u9ed2\u304f\u306a\u308b")}),l.jsx(o,{value:"video_wont_play",children:h._("\u52d5\u753b\u3092\u518d\u751f\u3067\u304d\u306a\u3044")})]})};d.$5=function(){if(this.state.currentFeedbackSelected!=null&&this.state.currentFeedbackSelected!==""){var a=b("XVideoPlaybackExperienceReportController").getURIBuilder().setString("issue_type",this.state.currentFeedbackSelected).setFBID("video_id",this.props.videoID).setInt("is_live",this.props.isLive?1:0).getURI();new(b("AsyncRequest"))(a).send();this.setState({feedbackSubmitted:!0});b("VideoPlayerShakaPerformanceLogger").setVideoPlaybackExperienceIssue(this.state.currentFeedbackSelected)}};d.render=function(){var a=this,c=null,d=null,e=null,f=null,g=this.props.availableQualities;this.showQualitySelector()&&g!=null?(c=g.map(function(b){return a.createMenuItem(b,!0,b===a.props.preferredQuality,function(){var c=a.props.onSelectQuality;c&&c(b)},"radioButton",a.props.isSphericalVideo)}),c.push(this.createMenuItem(h._("\u81ea\u52d5"),this.props.canAutoSelectVideoQuality===!0,this.props.preferredQuality===null,function(){var b=a.props.onSelectQuality;b&&b(null)},"radioButton")),c.reverse(),d=l.jsx(b("ClickableAreaButton.react"),{onClick:function(){return a.setState({currentMenuContext:"quality"})},label:"Change Quality",children:l.jsx("div",{"data-testid":void 0,className:"_2iw4 _4t9t",children:l.jsxs(b("Layout.react"),{children:[l.jsx(n,{children:h._("\u753b\u8cea")}),l.jsxs(m,{className:"_4t9u",children:[this.props.preferredQuality===null?l.jsxs(l.Fragment,{children:[h._("\u81ea\u52d5"),this.props.selectedQuality!=null?l.jsxs(l.Fragment,{children:[" ",l.jsx("span",{children:this.props.selectedQuality})]}):null]}):l.jsx("span",{children:this.props.preferredQuality}),l.jsx(b("Image.react"),{className:"_4t9v",src:i("480587")})]})]})})})):f=this.createMenuItem(h._("HD"),this.props.hasHD,this.props.isHD,this.props.onToggleHD,"checkBox");e=l.jsx(b("Link.react"),{onClick:function(){return a.setState({currentMenuContext:"feedback"})},className:"_2iw4 _4t9w",children:l.jsxs(b("Layout.react"),{children:[l.jsx(n,{children:h._("\u52d5\u753b\u306e\u554f\u984c\u3092\u5831\u544a")}),l.jsx(m,{className:"_4t9u",children:l.jsx(b("Image.react"),{className:"_4t9v",src:i("480587")})})]})});g=null;switch(this.state.currentMenuContext){case"main":g=l.jsxs("div",{className:"_2i_x",children:[f,this.$1(),d,this.$3(),e]});break;case"quality":g=l.jsxs("div",{className:"_2i_x",children:[l.jsxs("div",{className:"_4t9q",children:[this.$2(),h._("\u753b\u8cea")]}),l.jsx("div",{"data-testid":void 0,className:"_4t9z",role:"radiogroup",children:c})]});break;case"feedback":g=l.jsxs("div",{className:"_2i_x",children:[l.jsxs("div",{className:"_4t9q",children:[this.$2(),h._("\u52d5\u753b\u306e\u554f\u984c\u3092\u5831\u544a")]}),l.jsxs("div",{className:"_4t9z",children:[this.state.feedbackSubmitted?null:this.$4(),this.state.feedbackSubmitted?l.jsx("div",{className:"_4t9-",children:h._("\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002")}):l.jsx("div",{className:"_4ta3",children:l.jsx(b("XUIButton.react"),{disabled:!(this.state.currentFeedbackSelected!=null&&this.state.currentFeedbackSelected!==""),label:h._("\u9001\u4fe1"),use:"confirm",onClick:this.$5.bind(this)})})]})]});break}return l.jsxs("div",{className:"_2i_w",children:[g,l.jsx("div",{className:"_2j03"})]})};return c}(l.Component);e.exports=a;a.defaultProps={tabIndex:"-1",availableQualities:null,selectedQuality:null,preferredQuality:null,canAutoSelectVideoQuality:!1,showQualitySelector:!1,qualitySelectorMinStreams:2,streamingFormat:null,onSelectQuality:function(){}};a.propTypes={areCaptionsActive:b("prop-types").bool,areCaptionsAutogenerated:b("prop-types").bool,hasHD:b("prop-types").bool,hasCaptions:b("prop-types").bool,isHD:b("prop-types").bool,isLive:b("prop-types").bool,isSphericalVideo:b("prop-types").bool,onToggleHD:b("prop-types").func,onToggleCaptions:b("prop-types").func,tabIndex:b("prop-types").string,availableQualities:b("prop-types").array,selectedQuality:b("prop-types").string,preferredQuality:b("prop-types").string,canAutoSelectVideoQuality:b("prop-types").bool,onSelectQuality:b("prop-types").func,showQualitySelector:b("prop-types").bool,qualitySelectorMinStreams:b("prop-types").number,streamingFormat:b("prop-types").string}}),null);
__d("VideoSettingsControl.react",["cx","fbt","ix","AbstractButton.react","ClickableArea.react","Image.react","ODS","TooltipData","TrackingNodes","VideoPlayerExperiments","VideoPlayerQualitiesArray","VideoSettingsMenu.react","prop-types","react","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){var j,k=j||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isFocus:!1},c.$1=k.createRef(),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onClick=function(){!this.state.isFocus&&!this.props.disabled&&this.$1.current&&this.$1.current.showQualitySelector()&&b("ODS").bumpEntityKey(2966,"videos","quality_selector.impression"),this.setState(function(a){return{isFocus:!a.isFocus}}),this.props.onSettingsClick&&this.props.onSettingsClick()};d.getHDIndicator=function(){var a=b("VideoPlayerExperiments").showHDIndicator===!0&&!this.props.isInline&&this.props.preferredQuality===null?b("VideoPlayerQualitiesArray").isVideoQualityTypicallyConsideredHD(this.props.selectedQuality):b("VideoPlayerQualitiesArray").isVideoQualityTypicallyConsideredHD(this.props.preferredQuality);if(!a)return null;b("VideoPlayerQualitiesArray").isVideoQualityTypicallyConsideredHD4K(this.props.selectedQuality)?a="4K":a="HD";return k.jsx("span",{className:"_132c",children:a})};d.render=function(){var a=k.jsx(b("Image.react"),{className:"_rwt",src:i("391244")}),c=h._("\u305d\u306e\u4ed6\u306e\u8996\u899a\u8a2d\u5b9a"),d=null;!this.props.disabled&&this.state.isFocus&&(d=k.jsx("div",{className:"_2iw7"+(this.state.isFocus?" _2iw8":""),children:k.jsx(b("VideoSettingsMenu.react"),{areCaptionsActive:this.props.areCaptionsActive,areCaptionsAutogenerated:this.props.areCaptionsAutogenerated,hasHD:this.props.hasHD,hasCaptions:this.props.hasCaptions,isHD:this.props.isHD,isLive:this.props.isLive,isSphericalVideo:this.props.isSphericalVideo,onToggleHD:this.props.onToggleHD,onToggleCaptions:this.props.onToggleCaptions,tabIndex:this.props.tabIndex,availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,preferredQuality:this.props.preferredQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,videoID:this.props.videoID,ref:this.$1})}));var e=this.getHDIndicator(),f="_zbd"+(this.props.disabled?" _132h":""),g=h._("\u8a2d\u5b9a");f=k.jsx(b("AbstractButton.react"),{className:f,disabled:this.props.disabled,image:a,label:c,labelIsHidden:!0,ref:"button",tabIndex:this.props.tabIndex,type:"button"});a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIDEO_SETTINGS);return k.jsxs("div",{className:"_2j04","data-ft":a,children:[d,k.jsx(b("ClickableArea.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(g,"above"),{onClick:this.onClick.bind(this),children:k.jsxs("div",{"data-testid":void 0,children:[f,e]})}))]})};return c}(k.Component);e.exports=a;a.defaultProps={tabIndex:"-1"};a.propTypes={disabled:b("prop-types").bool,hasHD:b("prop-types").bool,hasCaptions:b("prop-types").bool,isHD:b("prop-types").bool,isInline:b("prop-types").bool,isLive:b("prop-types").bool,isSphericalVideo:b("prop-types").bool,areCaptionsActive:b("prop-types").bool,areCaptionsAutogenerated:b("prop-types").bool,onToggleHD:b("prop-types").func,onToggleCaptions:b("prop-types").func,tabIndex:b("prop-types").string,availableQualities:b("prop-types").array,selectedQuality:b("prop-types").string,canAutoSelectVideoQuality:b("prop-types").bool,onSelectQuality:b("prop-types").func,showQualitySelector:b("prop-types").bool,qualitySelectorMinStreams:b("prop-types").number,streamingFormat:b("prop-types").string}}),null);